"use strict";(()=>{var e={};e.id=280,e.ids=[280],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14982:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>f,requestAsyncStorage:()=>h,routeModule:()=>u,serverHooks:()=>d,staticGenerationAsyncStorage:()=>l});var a={};r.r(a),r.d(a,{GET:()=>c});var s=r(22060),o=r(72433),n=r(10137),i=r(16097);async function p(){let e=process.env.SPOTIFY_CLIENT_ID,t=process.env.SPOTIFY_CLIENT_SECRET,r=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${Buffer.from(`${e}:${t}`).toString("base64")}`},body:"grant_type=client_credentials"});if(!r.ok)throw Error("Failed to fetch Spotify access token");return(await r.json()).access_token}async function c(e){let t=new URL(e.url).searchParams.get("q");if(!t||t.length<3)return i.NextResponse.json({results:[]});try{let e=await p(),r=await fetch(`https://api.spotify.com/v1/search?q=${encodeURIComponent(t)}&type=artist&limit=5`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw Error("Spotify search failed");let a=await r.json(),s=a.artists?.items.map(e=>({id:e.id,name:e.name,imageUrl:e.images[0]?.url||"/placeholder.svg",genre:e.genres[0]||"Unknown"}))||[];return i.NextResponse.json({results:s})}catch(e){return console.error("Error searching for artists:",e),i.NextResponse.json({results:[]})}}let u=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/search/route",pathname:"/api/search",filename:"route",bundlePath:"app/api/search/route"},resolvedPagePath:"/Users/tanishqsingh/Downloads/artist-comparison-app/app/api/search/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:h,staticGenerationAsyncStorage:l,serverHooks:d}=u,m="/api/search/route";function f(){return(0,n.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:l})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[461,582],()=>r(14982));module.exports=a})();