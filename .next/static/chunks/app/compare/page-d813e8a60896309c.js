(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{28619:function(e,s,r){Promise.resolve().then(r.bind(r,79277)),Promise.resolve().then(r.bind(r,7745))},79277:function(e,s,r){"use strict";r.d(s,{default:function(){return q}});var a=r(51155),t=r(60225),n=r(82702),l=r(12151);let i=n.fC,c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(n.aV,{ref:s,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...t})});c.displayName=n.aV.displayName;let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(n.xz,{ref:s,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...t})});o.displayName=n.xz.displayName;let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(n.VY,{ref:s,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...t})});d.displayName=n.VY.displayName;let m=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...t})});m.displayName="Card";let h=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...t})});h.displayName="CardHeader";let u=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...t})});u.displayName="CardTitle";let x=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",r),...t})});x.displayName="CardDescription";let f=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",r),...t})});f.displayName="CardContent";let j=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",r),...t})});j.displayName="CardFooter";var g=r(28566),v=r(15483),p=r(24094),N=r(88077),b=r(59542),w=r(12673),y=r(43297),_=r(13930),k=r(14202),C=r(18688),S=r(86431),Z=r(8988),A=r(6437),R=r(87930),z=r(31039),D=r(33996),E=r(47237),K=r(97552),I=r(38667);let F=(0,r(87987).j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $(e){let{className:s,variant:r,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)(F({variant:r}),s),...t})}var V=r(80710),O=r(81663);let P=t.forwardRef((e,s)=>{let{className:r,children:t,...n}=e;return(0,a.jsxs)(O.fC,{ref:s,className:(0,l.cn)("relative overflow-hidden",r),...n,children:[(0,a.jsx)(O.l_,{className:"h-full w-full rounded-[inherit]",children:t}),(0,a.jsx)(L,{}),(0,a.jsx)(O.Ns,{})]})});P.displayName=O.fC.displayName;let L=t.forwardRef((e,s)=>{let{className:r,orientation:t="vertical",...n}=e;return(0,a.jsx)(O.gb,{ref:s,orientation:t,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...n,children:(0,a.jsx)(O.q4,{className:"relative flex-1 rounded-full bg-border"})})});L.displayName=O.gb.displayName;var M=r(80928);let U=t.forwardRef((e,s)=>{let{className:r,orientation:t="horizontal",decorative:n=!0,...i}=e;return(0,a.jsx)(M.f,{ref:s,decorative:n,orientation:t,className:(0,l.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",r),...i})});function q(e){let{artistIds:s}=e,[r,n]=(0,t.useState)(null),[l,F]=(0,t.useState)(!0),[O,L]=(0,t.useState)(null),[M,q]=(0,t.useState)("overview"),B=["#8884d8","#82ca9d","#ffc658","#ff8042","#0088FE","#00C49F","#FFBB28","#FF8042"];if((0,t.useEffect)(()=>{(async()=>{try{F(!0);let e=await fetch("/api/compare?artists=".concat(s.join(",")));if(!e.ok)throw Error("Failed to fetch comparison data");let r=await e.json();if(r.error)throw Error(r.error);n(r)}catch(e){L(e.message)}finally{F(!1)}})()},[s]),l)return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,a.jsx)(g.Z,{className:"h-10 w-10 animate-spin text-primary mb-4"}),(0,a.jsx)("p",{children:"Analyzing and comparing artist data..."}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"This may take a moment as we gather comprehensive insights"})]});if(O)return(0,a.jsxs)(m,{className:"border-destructive",children:[(0,a.jsx)(h,{children:(0,a.jsx)(u,{className:"text-destructive",children:"Error Loading Comparison"})}),(0,a.jsxs)(f,{children:[(0,a.jsx)("p",{children:O}),(0,a.jsx)(V.z,{className:"mt-4",onClick:()=>window.location.reload(),children:"Try Again"})]})]});if(!r||!r.insights||!r.insights.artists)return(0,a.jsxs)(m,{children:[(0,a.jsx)(h,{children:(0,a.jsx)(u,{children:"No Data Available"})}),(0,a.jsxs)(f,{children:[(0,a.jsx)("p",{children:"Could not retrieve or parse comparison data. Please try again with different artists."}),(null==r?void 0:r.parsing_error)&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-destructive font-medium",children:"Parsing Error Detected"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"The AI response couldn't be properly parsed."})]}),(0,a.jsx)(V.z,{className:"mt-4",onClick:()=>window.location.reload(),children:"Try Again"})]})]});let T=e=>Object.entries(r.insights.artists).map((s,r)=>{let[a,t]=s;return{name:a,value:t[e]||0,color:B[r%B.length]}}),G=e=>{var s,t,n,l,i,c;let o=r.insights.artists[e];return o?[{name:"Net Worth",value:"$".concat(o.net_worth,"M"),icon:(0,a.jsx)(v.Z,{className:"h-4 w-4"}),source:null===(s=o.sources)||void 0===s?void 0:s.net_worth},{name:"Earnings/Show",value:"$".concat(o.earnings_per_performance,"K"),icon:(0,a.jsx)(v.Z,{className:"h-4 w-4"}),source:null===(t=o.sources)||void 0===t?void 0:t.earnings},{name:"Hit Songs",value:(null===(n=o.career_achievements)||void 0===n?void 0:n.hits)||"N/A",icon:(0,a.jsx)(p.Z,{className:"h-4 w-4"}),source:null===(l=o.sources)||void 0===l?void 0:l.streaming},{name:"Global Influence",value:"".concat(o.global_influence,"/10"),icon:(0,a.jsx)(N.Z,{className:"h-4 w-4"}),source:null===(i=o.sources)||void 0===i?void 0:i.general},{name:"Awards",value:o.awards_recognition,icon:(0,a.jsx)(b.Z,{className:"h-4 w-4"}),source:null===(c=o.sources)||void 0===c?void 0:c.awards},{name:"Collaborations",value:o.collaborations,icon:(0,a.jsx)(w.Z,{className:"h-4 w-4"}),source:null},{name:"Genre Impact",value:o.genre_impact,icon:(0,a.jsx)(y.Z,{className:"h-4 w-4"}),source:null},{name:"Years Active",value:o.longevity,icon:(0,a.jsx)(_.Z,{className:"h-4 w-4"}),source:null}]:[]},W=e=>{var s;let a=null===(s=r.spotify_data)||void 0===s?void 0:s.find(s=>s.name===e);if(!a){let s=r.artists.find(s=>s.name===e);return s?[{name:"Popularity",value:s.popularity},{name:"Followers",value:s.followers.toLocaleString()},{name:"Genres",value:s.genres||"N/A"}]:[]}return[{name:"Popularity",value:a.popularity},{name:"Followers",value:a.followers.toLocaleString()},{name:"Genres",value:a.genres.join(", ")||"N/A"}]};return(0,a.jsx)("div",{className:"space-y-8",children:(0,a.jsxs)(i,{defaultValue:"overview",value:M,onValueChange:q,children:[(0,a.jsxs)(c,{className:"mb-4",children:[(0,a.jsx)(o,{value:"overview",children:"Overview"}),(0,a.jsx)(o,{value:"detailed",children:"Detailed Analysis"}),(0,a.jsx)(o,{value:"charts",children:"Charts"}),(0,a.jsx)(o,{value:"insights",children:"Insights"}),(0,a.jsx)(o,{value:"sources",children:"Sources"})]}),(0,a.jsx)(d,{value:"overview",children:(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Object.keys(r.insights.artists).map(e=>{var s,t;let n=r.insights.artists[e],l=r.artists.find(s=>s.name===e);return(0,a.jsxs)(m,{className:"overflow-hidden",children:[(0,a.jsxs)(h,{className:"bg-primary/10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(u,{children:e}),(0,a.jsx)($,{variant:"outline",children:(null==l?void 0:null===(s=l.genres)||void 0===s?void 0:s.split(",")[0])||"Artist"})]}),(0,a.jsxs)(x,{children:[null==l?void 0:l.followers.toLocaleString()," followers"]})]}),(0,a.jsxs)(f,{className:"pt-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center p-2 bg-muted/30 rounded-md",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5 mb-1 text-primary"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Net Worth"}),(0,a.jsxs)("span",{className:"text-lg font-bold",children:["$",n.net_worth,"M"]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center p-2 bg-muted/30 rounded-md",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5 mb-1 text-primary"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Awards"}),(0,a.jsx)("span",{className:"text-lg font-bold",children:n.awards_recognition})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center p-2 bg-muted/30 rounded-md",children:[(0,a.jsx)(N.Z,{className:"h-5 w-5 mb-1 text-primary"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Influence"}),(0,a.jsxs)("span",{className:"text-lg font-bold",children:[n.global_influence,"/10"]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center p-2 bg-muted/30 rounded-md",children:[(0,a.jsx)(_.Z,{className:"h-5 w-5 mb-1 text-primary"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Years Active"}),(0,a.jsx)("span",{className:"text-lg font-bold",children:n.longevity})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Career Highlight:"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:(null===(t=n.career_achievements)||void 0===t?void 0:t.milestones)||"No information available"})]})]}),(0,a.jsxs)(j,{className:"bg-muted/30 flex justify-between",children:[(0,a.jsx)(V.z,{variant:"outline",size:"sm",onClick:()=>q("detailed"),children:"View Details"}),(0,a.jsx)(V.z,{variant:"outline",size:"sm",onClick:()=>q("insights"),children:"Read Insights"})]})]},e)})})}),(0,a.jsx)(d,{value:"detailed",children:(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:Object.keys(r.insights.artists).map(e=>{var s;return(0,a.jsxs)(m,{children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(u,{children:e}),(0,a.jsx)(x,{children:"Comprehensive metrics and industry standing"})]}),(0,a.jsx)(f,{children:(0,a.jsxs)(P,{className:"h-80 pr-4",children:[(0,a.jsx)("div",{className:"space-y-4",children:G(e).map((s,r)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[s.icon,(0,a.jsxs)("span",{className:"font-medium",children:[s.name,":"]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-2 font-bold",children:s.value}),s.source&&(0,a.jsx)("a",{href:s.source,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80",children:(0,a.jsx)(k.Z,{className:"h-4 w-4"})})]})]}),r<G(e).length-1&&(0,a.jsx)(U,{className:"my-2"})]},r))}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("h3",{className:"font-semibold mb-2 flex items-center gap-1",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4"}),"Spotify Statistics"]}),(0,a.jsx)("div",{className:"space-y-2",children:W(e).map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.name,":"]}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.value})]},s))})]})]})}),(0,a.jsx)(j,{className:"bg-muted/30",children:(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-medium",children:"Career Milestone: "}),(null===(s=r.insights.artists[e].career_achievements)||void 0===s?void 0:s.milestones)||"N/A"]})})]},e)})})}),(0,a.jsx)(d,{value:"charts",children:(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,a.jsxs)(m,{children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(u,{children:"Net Worth Comparison"}),(0,a.jsx)(x,{children:"Estimated artist net worth in millions USD"})]}),(0,a.jsx)(f,{className:"h-80",children:(0,a.jsx)(S.h,{width:"100%",height:"100%",children:(0,a.jsxs)(Z.v,{data:T("net_worth"),children:[(0,a.jsx)(A.q,{strokeDasharray:"3 3"}),(0,a.jsx)(R.K,{dataKey:"name"}),(0,a.jsx)(z.B,{}),(0,a.jsx)(D.u,{formatter:e=>"$".concat(e,"M")}),(0,a.jsx)(E.D,{}),(0,a.jsx)(K.$,{dataKey:"value",fill:"#8884d8",children:T("net_worth").map((e,s)=>(0,a.jsx)(I.b,{fill:e.color},"cell-".concat(s)))})]})})})]}),(0,a.jsxs)(m,{children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(u,{children:"Earnings Per Performance"}),(0,a.jsx)(x,{children:"Average earnings per show in thousands USD"})]}),(0,a.jsx)(f,{className:"h-80",children:(0,a.jsx)(S.h,{width:"100%",height:"100%",children:(0,a.jsxs)(Z.v,{data:T("earnings_per_performance"),children:[(0,a.jsx)(A.q,{strokeDasharray:"3 3"}),(0,a.jsx)(R.K,{dataKey:"name"}),(0,a.jsx)(z.B,{}),(0,a.jsx)(D.u,{formatter:e=>"$".concat(e,"K")}),(0,a.jsx)(E.D,{}),(0,a.jsx)(K.$,{dataKey:"value",fill:"#82ca9d",children:T("earnings_per_performance").map((e,s)=>(0,a.jsx)(I.b,{fill:e.color},"cell-".concat(s)))})]})})})]}),(0,a.jsxs)(m,{children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(u,{children:"Global Influence"}),(0,a.jsx)(x,{children:"Industry impact score (scale of 1-10)"})]}),(0,a.jsx)(f,{className:"h-80",children:(0,a.jsx)(S.h,{width:"100%",height:"100%",children:(0,a.jsxs)(Z.v,{data:T("global_influence"),children:[(0,a.jsx)(A.q,{strokeDasharray:"3 3"}),(0,a.jsx)(R.K,{dataKey:"name"}),(0,a.jsx)(z.B,{domain:[0,10]}),(0,a.jsx)(D.u,{}),(0,a.jsx)(E.D,{}),(0,a.jsx)(K.$,{dataKey:"value",fill:"#ffc658",children:T("global_influence").map((e,s)=>(0,a.jsx)(I.b,{fill:e.color},"cell-".concat(s)))})]})})})]}),(0,a.jsxs)(m,{children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(u,{children:"Awards & Recognition"}),(0,a.jsx)(x,{children:"Major awards won throughout career"})]}),(0,a.jsx)(f,{className:"h-80",children:(0,a.jsx)(S.h,{width:"100%",height:"100%",children:(0,a.jsxs)(Z.v,{data:T("awards_recognition"),children:[(0,a.jsx)(A.q,{strokeDasharray:"3 3"}),(0,a.jsx)(R.K,{dataKey:"name"}),(0,a.jsx)(z.B,{}),(0,a.jsx)(D.u,{}),(0,a.jsx)(E.D,{}),(0,a.jsx)(K.$,{dataKey:"value",fill:"#ff8042",children:T("awards_recognition").map((e,s)=>(0,a.jsx)(I.b,{fill:e.color},"cell-".concat(s)))})]})})})]})]})}),(0,a.jsx)(d,{value:"insights",children:(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:Object.keys(r.insights.artists).map(e=>{var s,t,n,l;let i=r.insights.artists[e];return(0,a.jsxs)(m,{children:[(0,a.jsxs)(h,{className:"bg-primary/5",children:[(0,a.jsx)(u,{children:e}),(0,a.jsx)(x,{children:"Career insights and industry impact"})]}),(0,a.jsxs)(f,{className:"pt-6",children:[(0,a.jsx)("p",{className:"text-sm leading-relaxed",children:i.insights||"".concat(e," has achieved significant success in the music industry with a net worth of $").concat(i.net_worth,"M and earning approximately $").concat(i.earnings_per_performance,"K per performance. With ").concat((null===(s=i.career_achievements)||void 0===s?void 0:s.hits)||"multiple"," hit songs and ").concat(i.awards_recognition," major awards, they've been active for ").concat(i.longevity," years and have collaborated with ").concat(i.collaborations," notable artists throughout their career.")}),(0,a.jsxs)("div",{className:"mt-6 space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:"Key Achievements:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside text-sm space-y-1 text-muted-foreground",children:[(0,a.jsxs)("li",{children:["Net worth of $",i.net_worth," million"]}),(0,a.jsxs)("li",{children:["Average of $",i.earnings_per_performance,"K per performance"]}),(0,a.jsxs)("li",{children:[i.awards_recognition," major industry awards"]}),(0,a.jsxs)("li",{children:[(null===(t=i.career_achievements)||void 0===t?void 0:t.hits)||"Multiple"," ","chart-topping hits"]}),(0,a.jsxs)("li",{children:[i.collaborations," notable collaborations"]}),(0,a.jsxs)("li",{children:["Global influence rating: ",i.global_influence,"/10"]})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:"Career Milestone:"}),(0,a.jsxs)("p",{className:"text-sm mt-1 text-muted-foreground italic",children:['"',(null===(n=i.career_achievements)||void 0===n?void 0:n.milestones)||"Information not available",'"']})]})]}),(0,a.jsxs)(j,{className:"bg-muted/30 justify-between",children:[(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Active for ",i.longevity," years"]}),(null===(l=i.sources)||void 0===l?void 0:l.general)&&(0,a.jsxs)("a",{href:i.sources.general,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-primary hover:underline",children:["Learn more ",(0,a.jsx)(k.Z,{className:"h-3 w-3"})]})]})]},e)})})}),(0,a.jsx)(d,{value:"sources",children:(0,a.jsxs)(m,{children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(u,{children:"Data Sources"}),(0,a.jsx)(x,{children:"References and citations for artist information"})]}),(0,a.jsx)(f,{children:(0,a.jsx)(P,{className:"h-96 pr-4",children:(0,a.jsx)("div",{className:"space-y-4",children:Object.keys(r.insights.artists).map(e=>{let s=r.insights.artists[e];return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:e}),(0,a.jsx)("div",{className:"space-y-2",children:Object.entries(s.sources||{}).map(e=>{let[s,r]=e;return(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[s.replace(/_/g," "),":"]}),(0,a.jsxs)("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:["View Source"," ",(0,a.jsx)(k.Z,{className:"h-3 w-3 inline-block"})]})]},s)})}),(0,a.jsx)(U,{className:"my-4"})]},e)})})})})]})})]})})}U.displayName=M.f.displayName},7745:function(e,s,r){"use strict";r.d(s,{default:function(){return m}});var a=r(51155),t=r(60225),n=r(13943),l=r(53043),i=r(30383),c=r(80710),o=r(73498),d=r(63206);function m(e){let{initialArtistIds:s=[]}=e,[r,m]=(0,t.useState)([]),[h,u]=(0,t.useState)(s.length>0),[x,f]=(0,t.useState)(null),j=(0,n.useRouter)();(0,t.useEffect)(()=>{(async()=>{if(s.length>0)try{u(!0),f(null);let e=s.map(e=>fetch("/api/artists/".concat(e)).then(s=>{if(!s.ok)throw Error("Failed to fetch artist with ID: ".concat(e));return s.json()})),r=await Promise.all(e);m(r.filter(e=>e&&e.id))}catch(e){console.error("Failed to fetch initial artists:",e)}finally{u(!1)}else u(!1)})()},[s]);let g=e=>{let s=r.filter(s=>s.id!==e);m(s),v(s)},v=e=>{if(0===e.length)j.push("/compare",void 0,{shallow:!0});else{let s=e.map(e=>encodeURIComponent(e.id)).join(",");j.push("/compare".concat(s?"?artists=".concat(s):""),void 0,{shallow:!0})}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsx)(o.Z,{onArtistSelect:e=>{e&&e.preventDefault&&e.preventDefault();let s=e.artist||e;if(s&&s.id&&!r.some(e=>e.id===s.id)){let e=[...r,s];m(e),v(e)}}})}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(c.z,{variant:"outline",onClick:()=>{m([]),v([])},disabled:0===r.length,children:"Clear All"})})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h2",{className:"text-lg font-medium",children:"Selected Artists"}),r.length>0&&(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[r.length," ",1===r.length?"artist":"artists"," selected"]})]}),x&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 mb-3 text-amber-800 bg-amber-50 rounded-md border border-amber-200",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("p",{className:"text-sm",children:x})]}),h?(0,a.jsx)("div",{className:"flex items-center justify-center p-8 border border-dashed rounded-md bg-muted/50",children:(0,a.jsx)("div",{className:"text-muted-foreground",children:"Loading selected artists..."})}):0===r.length?(0,a.jsx)("div",{className:"flex items-center justify-center p-8 border border-dashed rounded-md bg-muted/50",children:(0,a.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,a.jsx)("p",{children:"No artists selected."}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Use the search box above to find and select artists to compare."})]})}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:r.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-md border bg-card hover:bg-accent/5 transition-colors",children:[(0,a.jsx)("div",{className:"h-10 w-10 overflow-hidden rounded-full shrink-0",children:(0,a.jsx)(d.default,{src:e.imageUrl||"/placeholder.svg",alt:e.name,width:40,height:40,className:"h-full w-full object-cover"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium truncate",children:e.name}),e.genres&&e.genres.length>0&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground truncate",children:[e.genres.slice(0,2).join(", "),e.genres.length>2&&"..."]})]}),(0,a.jsx)(c.z,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",onClick:()=>g(e.id),"aria-label":"Remove ".concat(e.name),children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})]},e.id))})]})]})}},73498:function(e,s,r){"use strict";r.d(s,{Z:function(){return u}});var a=r(51155),t=r(60225),n=r(13943),l=r(96114),i=r(28566),c=r(6003),o=r(12151);let d=t.forwardRef((e,s)=>{let{className:r,type:t,...n}=e;return(0,a.jsx)("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...n})});d.displayName="Input";var m=r(80710),h=r(63206);function u(e){let{onArtistSelect:s}=e,[r,o]=(0,t.useState)(""),[u,x]=(0,t.useState)([]),[f,j]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),p=(0,t.useRef)(null),N=(0,n.useRouter)();(0,t.useEffect)(()=>{let e=e=>{p.current&&!p.current.contains(e.target)&&v(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,t.useEffect)(()=>{let e=setTimeout(async()=>{if(r.length>2){j(!0),v(!0);try{let e=await fetch("/api/search?q=".concat(encodeURIComponent(r)));if(!e.ok)throw Error("Search failed");let s=await e.json();x(s.results||[])}catch(e){console.error("Search error:",e),x([])}finally{j(!1)}}else x([]),v(!1)},300);return()=>clearTimeout(e)},[r]);let b=e=>{s&&(s(e),o(""),v(!1))};return(0,a.jsxs)("div",{className:"relative",ref:p,children:[(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r.trim()&&(N.push("/search?q=".concat(encodeURIComponent(r))),v(!1))},className:"relative",children:[(0,a.jsx)(d,{type:"search",placeholder:"Search artists to compare...",className:"w-full pl-10",value:r,onChange:e=>o(e.target.value),onFocus:()=>r.length>2&&v(!0)}),(0,a.jsx)(l.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),f&&(0,a.jsx)(i.Z,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 animate-spin text-muted-foreground"})]}),g&&(u.length>0||f)&&(0,a.jsx)("div",{className:"absolute top-full mt-1 w-full rounded-md border bg-background shadow-lg z-50",children:f?(0,a.jsx)("div",{className:"p-4 text-center",children:(0,a.jsx)(i.Z,{className:"h-5 w-5 animate-spin mx-auto text-muted-foreground"})}):(0,a.jsx)("ul",{className:"max-h-80 overflow-auto py-2",children:u.map(e=>(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3 px-4 py-2 hover:bg-muted",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1",onClick:()=>b(e),children:[(0,a.jsx)("div",{className:"h-10 w-10 overflow-hidden rounded-full",children:(0,a.jsx)(h.default,{src:e.imageUrl||"/placeholder.svg",alt:e.name,width:40,height:40,className:"h-full w-full object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.genre})]})]}),s&&(0,a.jsx)(m.z,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>b(e),children:(0,a.jsx)(c.Z,{className:"h-4 w-4"})})]})},e.id))})})]})}},80710:function(e,s,r){"use strict";r.d(s,{z:function(){return o}});var a=r(51155),t=r(60225),n=r(86475),l=r(87987),i=r(12151);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=t.forwardRef((e,s)=>{let{className:r,variant:t,size:l,asChild:o=!1,...d}=e,m=o?n.g7:"button";return(0,a.jsx)(m,{className:(0,i.cn)(c({variant:t,size:l,className:r})),ref:s,...d})});o.displayName="Button"},12151:function(e,s,r){"use strict";r.d(s,{cn:function(){return n}});var a=r(13732),t=r(21457);function n(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,t.m6)((0,a.W)(s))}}},function(e){e.O(0,[241,917,660,648,744],function(){return e(e.s=28619)}),_N_E=e.O()}]);